{"version":3,"file":"image.cjs.js","sources":["../../../src/utils/image.ts"],"sourcesContent":["export function imgToBase64(imageUrl: string) {\r\n  return new Promise<string>((resolve, reject) => {\r\n    const canvas = document.createElement('canvas')\r\n    const img = new Image()\r\n    img.crossOrigin = 'Anonymous'\r\n    img.src = imageUrl\r\n    img.onload = function () {\r\n      const ctx = canvas.getContext('2d')\r\n      if (ctx) {\r\n        canvas.height = img.height\r\n        canvas.width = img.width\r\n        ctx.clearRect(0, 0, canvas.width, canvas.height)\r\n        ctx.drawImage(img, 0, 0)\r\n        const dataURL = canvas.toDataURL('image/png', 1)\r\n        resolve(dataURL)\r\n      }\r\n    }\r\n    img.onerror = function () {\r\n      reject(new Error(`Could not load image at ${imageUrl}`))\r\n    }\r\n  })\r\n}\r\n"],"names":[],"mappings":";;AAAO,SAAS,YAAY,UAAkB;AAC5C,SAAO,IAAI,QAAgB,CAAC,SAAS,WAAW;AACxC,UAAA,SAAS,SAAS,cAAc,QAAQ;AACxC,UAAA,MAAM,IAAI;AAChB,QAAI,cAAc;AAClB,QAAI,MAAM;AACV,QAAI,SAAS,WAAY;AACjB,YAAA,MAAM,OAAO,WAAW,IAAI;AAClC,UAAI,KAAK;AACP,eAAO,SAAS,IAAI;AACpB,eAAO,QAAQ,IAAI;AACnB,YAAI,UAAU,GAAG,GAAG,OAAO,OAAO,OAAO,MAAM;AAC3C,YAAA,UAAU,KAAK,GAAG,CAAC;AACvB,cAAM,UAAU,OAAO,UAAU,aAAa,CAAC;AAC/C,gBAAQ,OAAO;AAAA,MACjB;AAAA,IAAA;AAEF,QAAI,UAAU,WAAY;AACxB,aAAO,IAAI,MAAM,2BAA2B,QAAQ,EAAE,CAAC;AAAA,IAAA;AAAA,EACzD,CACD;AACH;;"}