{"version":3,"file":"emoji.cjs.js","sources":["../../../../src/emoji/modules/emoji.ts"],"sourcesContent":["import Quill from 'quill'\r\nimport emojiList from '../emoji-list'\r\n\r\nconst Module = Quill.imports['core/module']\r\n\r\n// @dynamic\r\nclass ShortNameEmoji extends Module {\r\n  static DEFAULTS: {\r\n    emojiList: any[]\r\n    fuse: {\r\n      shouldSort: boolean\r\n      threshold: number\r\n      location: number\r\n      distance: number\r\n      maxPatternLength: number\r\n      minMatchCharLength: number\r\n      keys: string[]\r\n    }\r\n  }\r\n\r\n  emojiList: any\r\n  quill: any\r\n  fuse: any\r\n  onOpen: any\r\n  onClose: any\r\n  container: HTMLUListElement\r\n  onSelectionChange: any\r\n  onTextChange: any\r\n  open: boolean\r\n  atIndex: any\r\n  focusedButton: any\r\n  isWhiteSpace: (ch: any) => boolean\r\n  query: any\r\n  buttons: any\r\n  options: any\r\n  constructor(quill, options) {\r\n    super(quill, options)\r\n\r\n    this.emojiList = options.emojiList\r\n\r\n    this.quill = quill\r\n    this.onClose = options.onClose\r\n    this.onOpen = options.onOpen\r\n    this.container = document.createElement('ul')\r\n    this.container.classList.add('emoji_completions')\r\n    this.quill.container.appendChild(this.container)\r\n    this.container.style.position = 'absolute'\r\n    this.container.style.display = 'none'\r\n\r\n    this.onSelectionChange = this.maybeUnfocus.bind(this)\r\n    this.onTextChange = this.update.bind(this)\r\n\r\n    this.open = false\r\n    this.atIndex = null\r\n    this.focusedButton = null\r\n\r\n    this.isWhiteSpace = function (ch) {\r\n      let whiteSpace = false\r\n      if (/\\s/.test(ch)) {\r\n        whiteSpace = true\r\n      }\r\n      return whiteSpace\r\n    }\r\n\r\n    quill.keyboard.addBinding({\r\n      // TODO: Once Quill supports using event.key change this to \":\"\r\n      key: 186, // \":\" instead of 190 in Safari. Since it's the same key it doesn't matter if we register both.\r\n      shiftKey: true,\r\n    }, this.triggerPicker.bind(this))\r\n\r\n    quill.keyboard.addBinding({\r\n      // gecko based browsers (firefox) use 59 as the keycode for semicolon,\r\n      // which makes a colon character when combined with shift\r\n      key: 59,\r\n      shiftKey: true,\r\n    }, this.triggerPicker.bind(this))\r\n\r\n    quill.keyboard.addBinding({\r\n      key: 39, // ArrowRight\r\n      collapsed: true,\r\n    }, this.handleArrow.bind(this))\r\n\r\n    quill.keyboard.addBinding({\r\n      key: 40, // ArrowRight\r\n      collapsed: true,\r\n    }, this.handleArrow.bind(this))\r\n    // TODO: Add keybindings for Enter (13) and Tab (9) directly on the quill editor\r\n  }\r\n\r\n  triggerPicker(range, _context) {\r\n    if (this.open) return true\r\n    if (range.length > 0) {\r\n      this.quill.deleteText(range.index, range.length, Quill.sources.USER)\r\n    }\r\n\r\n    this.quill.insertText(range.index, ':', 'emoji-shortname', Quill.sources.USER)\r\n    const atSignBounds = this.quill.getBounds(range.index)\r\n    this.quill.setSelection(range.index + 1, Quill.sources.SILENT)\r\n\r\n    this.atIndex = range.index\r\n\r\n    const paletteMaxPos = atSignBounds.left + 250\r\n    if (paletteMaxPos > this.quill.container.offsetWidth) {\r\n      this.container.style.left = `${atSignBounds.left - 250}px`\r\n    }\r\n    else {\r\n      this.container.style.left = `${atSignBounds.left}px`\r\n    }\r\n\r\n    this.container.style.top = `${atSignBounds.top + atSignBounds.height}px`\r\n    this.open = true\r\n\r\n    this.quill.on('text-change', this.onTextChange)\r\n    this.quill.once('selection-change', this.onSelectionChange)\r\n    if (this.onOpen) {\r\n      this.onOpen()\r\n    }\r\n  }\r\n\r\n  handleArrow() {\r\n    if (!this.open) return true\r\n    this.buttons[0].classList.remove('emoji-active')\r\n    this.buttons[0].focus()\r\n    if (this.buttons.length > 1) {\r\n      this.buttons[1].focus()\r\n    }\r\n  }\r\n\r\n  update(event) {\r\n    const sel = this.quill.getSelection().index\r\n    if (this.atIndex >= sel) { // Deleted the at character\r\n      return this.close(null)\r\n    }\r\n    this.query = this.quill.getText(this.atIndex + 1, sel - this.atIndex - 1)\r\n\r\n    try {\r\n      if (this.isWhiteSpace(this.query)) {\r\n        this.close(null)\r\n        return\r\n      }\r\n    }\r\n    catch (_e) {\r\n      throw new Error('Close failed')\r\n    }\r\n\r\n    this.query = this.query.trim()\r\n\r\n    let emojis: any = this.emojiList\r\n    emojis.sort((a: any, b: any) => {\r\n      return a.emoji_order - b.emoji_order\r\n    })\r\n\r\n    if (this.query.length < this.options.fuse.minMatchCharLength || emojis.length === 0) {\r\n      this.container.style.display = 'none'\r\n      return\r\n    }\r\n    if (emojis.length > 15) { // return only 15\r\n      emojis = emojis.slice(0, 15)\r\n    }\r\n    this.renderCompletions(emojis, event)\r\n  }\r\n\r\n  maybeUnfocus() {\r\n    if (this.container.querySelector('*:focus')) return\r\n    this.close(null)\r\n  }\r\n\r\n  renderCompletions(emojis, evt) {\r\n    try {\r\n      if (evt) {\r\n        if (evt.key === 'Enter' || evt.keyCode === 13) {\r\n          this.close(emojis[0], 1)\r\n          this.container.style.display = 'none'\r\n          return\r\n        }\r\n        else if (evt.key === 'Tab' || evt.keyCode === 9) {\r\n          this.quill.disable()\r\n          this.buttons[0].classList.remove('emoji-active')\r\n          this.buttons[1].focus()\r\n          return\r\n        }\r\n      }\r\n      if (evt) return\r\n    }\r\n    catch (_e) {\r\n      throw new Error('Render failed')\r\n    }\r\n\r\n    while (this.container.firstChild) {\r\n      this.container.removeChild(this.container.firstChild)\r\n    }\r\n    const buttons = Array.from({ length: emojis.length })\r\n    this.buttons = buttons\r\n\r\n    const handler = (i, emoji) => (event) => {\r\n      const arrowLeftKey = event.key === 'ArrowLeft' || event.keyCode === 37\r\n      const arrowUpKey = event.key === 'ArrowUp' || event.keyCode === 38\r\n      const arrowRightKey = event.key === 'ArrowRight' || event.keyCode === 39\r\n      const arrowDownKey = event.key === 'ArrowDown' || event.keyCode === 40\r\n      if (arrowRightKey || arrowDownKey) {\r\n        event.preventDefault()\r\n        buttons[Math.min(buttons.length - 1, i + 1)].focus()\r\n      }\r\n      else if (event.key === 'Tab' || event.keyCode === 9) {\r\n        event.preventDefault()\r\n        if ((i + 1) === buttons.length) {\r\n          buttons[0].focus()\r\n          return\r\n        }\r\n        buttons[Math.min(buttons.length - 1, i + 1)].focus()\r\n      }\r\n      else if (arrowLeftKey || arrowUpKey) {\r\n        event.preventDefault()\r\n        buttons[Math.max(0, i - 1)].focus()\r\n      }\r\n      else if (event.key === 'Enter' || event.keyCode === 13\r\n        || event.key === ' ' || event.keyCode === 32\r\n        || event.key === 'Tab' || event.keyCode === 9) {\r\n        event.preventDefault()\r\n        this.quill.enable()\r\n        this.close(emoji)\r\n      }\r\n    }\r\n\r\n    emojis.forEach((emoji, i) => {\r\n      const li = makeElement(\r\n        'li',\r\n        {},\r\n        makeElement(\r\n          'button',\r\n          { type: 'button' },\r\n          makeElement('span', { className: `button-emoji ap ap-${emoji.name}`, innerHTML: emoji.code_decimal }),\r\n          makeElement('span', { className: 'unmatched' }, emoji.shortname),\r\n        ),\r\n      )\r\n      this.container.appendChild(li)\r\n      buttons[i] = li.firstChild\r\n      // Events will be GC-ed with button on each re-render:\r\n      buttons[i].addEventListener('keydown', handler(i, emoji))\r\n      buttons[i].addEventListener('mousedown', () => this.close(emoji))\r\n      buttons[i].addEventListener('focus', () => {\r\n        this.focusedButton = i\r\n      })\r\n      buttons[i].addEventListener('unfocus', () => {\r\n        this.focusedButton = null\r\n      })\r\n    })\r\n\r\n    this.container.style.display = 'block'\r\n    // emoji palette on top\r\n    if (this.quill.container.classList.contains('top-emoji')) {\r\n      const x = this.container.querySelectorAll('li')\r\n      let i\r\n      for (i = 0; i < x.length; i++) {\r\n        x[i].style.display = 'block'\r\n      }\r\n\r\n      const windowHeight = window.innerHeight\r\n      const editorPos = this.quill.container.getBoundingClientRect().top\r\n      if (editorPos > windowHeight / 2 && this.container.offsetHeight > 0) {\r\n        this.container.style.top = `-${this.container.offsetHeight}px`\r\n      }\r\n    }\r\n\r\n    buttons[0].classList.add('emoji-active')\r\n  }\r\n\r\n  close(value, trailingDelete = 0) {\r\n    this.quill.enable()\r\n    this.container.style.display = 'none'\r\n    while (this.container.firstChild) {\r\n      this.container.removeChild(this.container.firstChild)\r\n    }\r\n    this.quill.off('selection-change', this.onSelectionChange)\r\n    this.quill.off('text-change', this.onTextChange)\r\n    if (value) {\r\n      this.quill.deleteText(this.atIndex, this.query.length + 1 + trailingDelete, Quill.sources.USER)\r\n      this.quill.insertEmbed(this.atIndex, 'emoji', value, Quill.sources.USER)\r\n      setTimeout(() => this.quill.setSelection(this.atIndex + 1), 0)\r\n    }\r\n    this.quill.focus()\r\n    this.open = false\r\n    if (this.onClose) {\r\n      this.onClose(value)\r\n    }\r\n  }\r\n}\r\n\r\nShortNameEmoji.DEFAULTS = {\r\n  emojiList,\r\n  fuse: {\r\n    shouldSort: true,\r\n    threshold: 0.1,\r\n    location: 0,\r\n    distance: 100,\r\n    maxPatternLength: 32,\r\n    minMatchCharLength: 1,\r\n    keys: [\r\n      'shortname',\r\n    ],\r\n  },\r\n}\r\n\r\nfunction makeElement(tag, attrs, ...children) {\r\n  const elem = document.createElement(tag)\r\n  Object.keys(attrs).forEach((key) => {\r\n    elem[key] = attrs[key]\r\n  })\r\n  children.forEach((child) => {\r\n    if (typeof child === 'string') {\r\n      child = document.createTextNode(child)\r\n    }\r\n    elem.appendChild(child)\r\n  })\r\n  return elem\r\n}\r\n\r\nexport default ShortNameEmoji\r\n"],"names":["emojiList"],"mappings":"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"}