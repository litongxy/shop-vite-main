{"version":3,"file":"better-picker.es.js","sources":["../../../src/toolbar/better-picker.ts"],"sourcesContent":["import Quill from 'quill'\r\nimport { isNullOrUndefined } from '../config/editor.utils'\r\n\r\nconst SnowTheme = Quill.imports['themes/snow']\r\n\r\nlet optionsCounter = 0\r\n\r\nfunction toggleAriaAttribute(element, attribute) {\r\n  element.setAttribute(\r\n    attribute,\r\n    element.getAttribute(attribute) !== 'true',\r\n  )\r\n}\r\n\r\nclass Picker {\r\n  container: any\r\n  label: any\r\n  options: any\r\n  select: any\r\n  constructor(select) {\r\n    this.select = select\r\n    this.container = document.createElement('span')\r\n    this.buildPicker()\r\n    this.select.style.display = 'none'\r\n    this.select.parentNode.insertBefore(this.container, this.select)\r\n\r\n    this.label.addEventListener('mousedown', (e) => {\r\n      this.togglePicker()\r\n      e.preventDefault()\r\n    })\r\n    this.label.addEventListener('keydown', (event) => {\r\n      switch (event.key) {\r\n        case 'Enter':\r\n          this.togglePicker()\r\n          break\r\n        case 'Escape':\r\n          this.escape()\r\n          event.preventDefault()\r\n          break\r\n        default:\r\n      }\r\n    })\r\n    this.select.addEventListener('change', this.update.bind(this))\r\n  }\r\n\r\n  togglePicker() {\r\n    this.container.classList.toggle('ql-expanded')\r\n    // Toggle aria-expanded and aria-hidden to make the picker accessible\r\n    toggleAriaAttribute(this.label, 'aria-expanded')\r\n    toggleAriaAttribute(this.options, 'aria-hidden')\r\n  }\r\n\r\n  buildItem(option) {\r\n    const item = document.createElement('span')\r\n    item.tabIndex = 0\r\n    item.setAttribute('role', 'button')\r\n    item.classList.add('ql-picker-item')\r\n    if (option.hasAttribute('value')) {\r\n      item.setAttribute('data-value', option.getAttribute('value'))\r\n    }\r\n    if (option.textContent) {\r\n      item.setAttribute('data-label', option.textContent)\r\n    }\r\n    item.addEventListener('click', () => {\r\n      this.selectItem(item, true)\r\n    })\r\n    item.addEventListener('keydown', (event) => {\r\n      switch (event.key) {\r\n        case 'Enter':\r\n          this.selectItem(item, true)\r\n          event.preventDefault()\r\n          break\r\n        case 'Escape':\r\n          this.escape()\r\n          event.preventDefault()\r\n          break\r\n        default:\r\n      }\r\n    })\r\n\r\n    return item\r\n  }\r\n\r\n  buildLabel() {\r\n    const label = document.createElement('span')\r\n    label.classList.add('ql-picker-label')\r\n    label.innerHTML = `\r\n      <svg viewbox=\"0 0 18 18\">\r\n        <polygon class=\"ql-stroke\" points=\"7 11 9 13 11 11 7 11\"></polygon>\r\n        <polygon class=\"ql-stroke\" points=\"7 7 9 5 11 7 7 7\"></polygon>\r\n      </svg>\r\n    `\r\n    label.tabIndex = 0\r\n    label.setAttribute('role', 'button')\r\n    label.setAttribute('aria-expanded', 'false')\r\n    this.container.appendChild(label)\r\n    return label\r\n  }\r\n\r\n  buildOptions() {\r\n    const options = document.createElement('span')\r\n    options.classList.add('ql-picker-options')\r\n\r\n    // Don't want screen readers to read this until options are visible\r\n    options.setAttribute('aria-hidden', 'true')\r\n    options.tabIndex = -1\r\n\r\n    // Need a unique id for aria-controls\r\n    options.id = `ql-picker-options-${optionsCounter}`\r\n    optionsCounter += 1\r\n    this.label.setAttribute('aria-controls', options.id)\r\n\r\n    this.options = options\r\n\r\n    Array.from(this.select.options).forEach((option: any) => {\r\n      const item = this.buildItem(option)\r\n      options.appendChild(item)\r\n      if (option.selected === true) {\r\n        this.selectItem(item)\r\n      }\r\n    })\r\n    this.container.appendChild(options)\r\n  }\r\n\r\n  buildPicker() {\r\n    Array.from(this.select.attributes).forEach((item: any) => {\r\n      this.container.setAttribute(item.name, item.value)\r\n    })\r\n    this.container.classList.add('ql-picker')\r\n    this.label = this.buildLabel()\r\n    this.buildOptions()\r\n  }\r\n\r\n  escape() {\r\n    // Close menu and return focus to trigger label\r\n    this.close()\r\n    // Need setTimeout for accessibility to ensure that the browser executes\r\n    // focus on the next process thread and after any DOM content changes\r\n    setTimeout(() => this.label.focus(), 1)\r\n  }\r\n\r\n  close() {\r\n    this.container.classList.remove('ql-expanded')\r\n    this.label.setAttribute('aria-expanded', 'false')\r\n    this.options.setAttribute('aria-hidden', 'true')\r\n  }\r\n\r\n  selectItem(item, trigger = false) {\r\n    const selected = this.container.querySelector('.ql-selected')\r\n    if (item === selected) return\r\n    if (!isNullOrUndefined(selected)) {\r\n      selected.classList.remove('ql-selected')\r\n    }\r\n    if (isNullOrUndefined(item)) return\r\n    item.classList.add('ql-selected')\r\n    this.select.selectedIndex = Array.from(item.parentNode.children).indexOf(\r\n      item,\r\n    )\r\n    if (item.hasAttribute('data-value')) {\r\n      this.label.setAttribute('data-value', item.getAttribute('data-value'))\r\n    }\r\n    else {\r\n      this.label.removeAttribute('data-value')\r\n    }\r\n    if (item.hasAttribute('data-label')) {\r\n      this.label.setAttribute('data-label', item.getAttribute('data-label'))\r\n    }\r\n    else {\r\n      this.label.removeAttribute('data-label')\r\n    }\r\n    if (trigger) {\r\n      let ev\r\n      if (typeof Event === 'function') {\r\n        ev = new Event('change')\r\n      }\r\n      else {\r\n        ev = document.createEvent('Event')\r\n        ev.initEvent('change', true, true)\r\n      }\r\n      this.select.dispatchEvent(ev)\r\n      this.close()\r\n    }\r\n  }\r\n\r\n  update() {\r\n    let option\r\n    if (this.select.selectedIndex > -1) {\r\n      const item = this.container.querySelector('.ql-picker-options').children[\r\n        this.select.selectedIndex\r\n      ]\r\n      option = this.select.options[this.select.selectedIndex]\r\n      this.selectItem(item)\r\n    }\r\n    else {\r\n      this.selectItem(null)\r\n    }\r\n    const isActive\r\n      = !isNullOrUndefined(option)\r\n      && option !== this.select.querySelector('option[selected]')\r\n\r\n    if (isActive) {\r\n      this.label.classList.add('ql-active')\r\n    }\r\n    else {\r\n      this.label.classList.remove('ql-active')\r\n    }\r\n  }\r\n}\r\n\r\nclass IconPicker extends Picker {\r\n  defaultItem: any\r\n  constructor(select, icons) {\r\n    super(select)\r\n    this.container.classList.add('ql-icon-picker')\r\n    Array.from(this.container.querySelectorAll('.ql-picker-item')).forEach(\r\n      (item: any) => {\r\n        item.innerHTML = icons[item.getAttribute('data-value') || '']\r\n      },\r\n    )\r\n    this.defaultItem = this.container.querySelector('.ql-selected')\r\n    this.selectItem(this.defaultItem, null)\r\n  }\r\n\r\n  selectItem(target, trigger) {\r\n    super.selectItem(target, trigger)\r\n    const item = target || this.defaultItem\r\n    if (this.label.innerHTML === item.innerHTML) return\r\n    this.label.innerHTML = item.innerHTML\r\n  }\r\n}\r\n\r\nclass ColorPicker extends Picker {\r\n  constructor(select, label) {\r\n    super(select)\r\n    this.label.innerHTML = label\r\n    this.container.classList.add('ql-color-picker')\r\n    Array.from(this.container.querySelectorAll('.ql-picker-item'))\r\n      .slice(0, 7)\r\n      .forEach((item: any) => {\r\n        item.classList.add('ql-primary')\r\n      })\r\n  }\r\n\r\n  buildItem(option) {\r\n    const item = super.buildItem(option)\r\n    item.style.backgroundColor = option.getAttribute('value') || ''\r\n    return item\r\n  }\r\n\r\n  selectItem(item, trigger) {\r\n    super.selectItem(item, trigger)\r\n    const colorLabel = this.label.querySelector('.ql-color-label')\r\n    const value = item ? item.getAttribute('data-value') || '' : ''\r\n    if (colorLabel) {\r\n      if (colorLabel.tagName === 'line') {\r\n        colorLabel.style.stroke = value\r\n      }\r\n      else {\r\n        colorLabel.style.fill = value\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nQuill.register('ui/picker', Picker, true)\r\nQuill.register('ui/icon-picker', IconPicker, true)\r\nQuill.register('ui/color-picker', ColorPicker, true)\r\n\r\nconst ALIGNS = [false, 'center', 'right']\r\n\r\nconst COLORS = [\r\n  '#000000',\r\n  '#e60000',\r\n  '#ff9900',\r\n  '#ffff00',\r\n  '#008a00',\r\n  '#0066cc',\r\n  '#9933ff',\r\n  '#ffffff',\r\n  '#facccc',\r\n  '#ffebcc',\r\n  '#ffffcc',\r\n  '#cce8cc',\r\n  '#cce0f5',\r\n  '#ebd6ff',\r\n  '#bbbbbb',\r\n  '#f06666',\r\n  '#ffc266',\r\n  '#ffff66',\r\n  '#66b966',\r\n  '#66a3e0',\r\n  '#c285ff',\r\n  '#888888',\r\n  '#a10000',\r\n  '#b26b00',\r\n  '#b2b200',\r\n  '#006100',\r\n  '#0047b2',\r\n  '#6b24b2',\r\n  '#444444',\r\n  '#5c0000',\r\n  '#663d00',\r\n  '#666600',\r\n  '#003700',\r\n  '#002966',\r\n  '#3d1466',\r\n]\r\n\r\nconst FONTS = [false, 'serif', 'monospace']\r\n\r\nconst HEADERS = ['1', '2', '3', false]\r\n\r\nconst SIZES = ['small', false, 'large', 'huge']\r\n\r\nSnowTheme.prototype.buildPickers = function (selects, icons) {\r\n  this.pickers = Array.from(selects).map((select: any) => {\r\n    if (select.classList.contains('ql-align')) {\r\n      if (isNullOrUndefined(select.querySelector('option'))) {\r\n        fillSelect(select, ALIGNS)\r\n      }\r\n      return new IconPicker(select, icons.align)\r\n    }\r\n    if (\r\n      select.classList.contains('ql-background')\r\n      || select.classList.contains('ql-color')\r\n    ) {\r\n      const format = select.classList.contains('ql-background')\r\n        ? 'background'\r\n        : 'color'\r\n      if (isNullOrUndefined(select.querySelector('option'))) {\r\n        fillSelect(\r\n          select,\r\n          COLORS,\r\n        )\r\n      }\r\n      return new ColorPicker(select, icons[format])\r\n    }\r\n    if (isNullOrUndefined(select.querySelector('option'))) {\r\n      if (select.classList.contains('ql-font')) {\r\n        fillSelect(select, FONTS)\r\n      }\r\n      else if (select.classList.contains('ql-header')) {\r\n        fillSelect(select, HEADERS)\r\n      }\r\n      else if (select.classList.contains('ql-size')) {\r\n        fillSelect(select, SIZES)\r\n      }\r\n    }\r\n    return new Picker(select)\r\n  })\r\n  const update = () => {\r\n    this.pickers.forEach((picker) => {\r\n      picker.update()\r\n    })\r\n  }\r\n  this.quill.on(Quill.events.EDITOR_CHANGE, update)\r\n}\r\n\r\nfunction fillSelect(select, values, defaultValue = false) {\r\n  values.forEach((value) => {\r\n    const option = document.createElement('option')\r\n    if (value === defaultValue) {\r\n      option.setAttribute('selected', 'selected')\r\n    }\r\n    else {\r\n      option.setAttribute('value', value)\r\n    }\r\n    select.appendChild(option)\r\n  })\r\n}\r\n"],"names":[],"mappings":"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"}