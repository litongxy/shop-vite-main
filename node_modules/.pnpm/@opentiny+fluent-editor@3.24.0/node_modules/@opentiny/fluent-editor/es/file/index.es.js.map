{"version":3,"file":"index.es.js","sources":["../../../src/file/index.ts"],"sourcesContent":["import Quill from 'quill'\r\nimport File from './formats/file'\r\nimport FileBar from './modules/file-bar'\r\n\r\nconst Module = Quill.imports['core/module']\r\n\r\nclass FileModule extends Module {\r\n  quill: any\r\n  fileBar: FileBar\r\n\r\n  static register() {\r\n    Quill.register('formats/file', File, true)\r\n  }\r\n\r\n  constructor(quill, options) {\r\n    super(quill, options)\r\n    this.quill = quill\r\n    quill.root.addEventListener('click', event => this.clickEvent(event), false)\r\n  }\r\n\r\n  clickEvent(event) {\r\n    event.preventDefault()\r\n    const target = event.target\r\n    const fileDom = target.closest('a.ql-file-item')\r\n    if (fileDom) {\r\n      if (this.fileBar) {\r\n        this.fileBar.destroy()\r\n      }\r\n      this.fileBar = new FileBar(this.quill, fileDom)\r\n    }\r\n    else if (this.fileBar && !target.closest('.ql-file-bar')) {\r\n      this.fileBar.destroy()\r\n      this.fileBar = null\r\n    }\r\n  }\r\n}\r\n\r\nexport default FileModule\r\n"],"names":[],"mappings":";;;AAIA,MAAM,SAAS,MAAM,QAAQ,aAAa;AAE1C,MAAM,mBAAmB,OAAO;AAAA,EAI9B,OAAO,WAAW;AACV,UAAA,SAAS,gBAAgB,MAAM,IAAI;AAAA,EAC3C;AAAA,EAEA,YAAY,OAAO,SAAS;AAC1B,UAAM,OAAO,OAAO;AACpB,SAAK,QAAQ;AACP,UAAA,KAAK,iBAAiB,SAAS,CAAA,UAAS,KAAK,WAAW,KAAK,GAAG,KAAK;AAAA,EAC7E;AAAA,EAEA,WAAW,OAAO;AAChB,UAAM,eAAe;AACrB,UAAM,SAAS,MAAM;AACf,UAAA,UAAU,OAAO,QAAQ,gBAAgB;AAC/C,QAAI,SAAS;AACX,UAAI,KAAK,SAAS;AAChB,aAAK,QAAQ;MACf;AACA,WAAK,UAAU,IAAI,QAAQ,KAAK,OAAO,OAAO;AAAA,IAAA,WAEvC,KAAK,WAAW,CAAC,OAAO,QAAQ,cAAc,GAAG;AACxD,WAAK,QAAQ;AACb,WAAK,UAAU;AAAA,IACjB;AAAA,EACF;AACF;"}