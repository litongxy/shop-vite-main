{"version":3,"file":"wiki-link.es.js","sources":["../../../../src/global-link/formats/wiki-link.ts"],"sourcesContent":["import Quill from 'quill'\r\nimport { ON_WIKI_LINK_REMOVE } from '../constants'\r\n\r\nconst Embed = Quill.imports['blots/embed']\r\n\r\n// @dynamic\r\nclass WikiLink extends Embed {\r\n  static blotName: string\r\n  static tagName: string\r\n  static className: string\r\n  wikiData: any\r\n  scroll: any\r\n\r\n  static create(value) {\r\n    const node = super.create(value)\r\n    node.setAttribute('href', value.link)\r\n    node.setAttribute('target', '_blank')\r\n    node.setAttribute('title', value.text)\r\n    node.textContent = value.text\r\n    return node\r\n  }\r\n\r\n  static value(domNode) {\r\n    return {\r\n      link: domNode.getAttribute('href'),\r\n      text: domNode.textContent,\r\n    }\r\n  }\r\n\r\n  constructor(scroll, domNode, data) {\r\n    super(scroll, domNode, data)\r\n    this.wikiData = data\r\n  }\r\n\r\n  remove() {\r\n    this.scroll.emitter.emit(ON_WIKI_LINK_REMOVE, this.wikiData)\r\n    return super.remove()\r\n  }\r\n}\r\n\r\nWikiLink.blotName = 'wiki-link'\r\nWikiLink.tagName = 'A'\r\nWikiLink.className = 'ql-wiki-link'\r\n\r\nexport default WikiLink\r\n"],"names":[],"mappings":";;AAGA,MAAM,QAAQ,MAAM,QAAQ,aAAa;AAGzC,MAAM,iBAAiB,MAAM;AAAA,EAO3B,OAAO,OAAO,OAAO;AACb,UAAA,OAAO,MAAM,OAAO,KAAK;AAC1B,SAAA,aAAa,QAAQ,MAAM,IAAI;AAC/B,SAAA,aAAa,UAAU,QAAQ;AAC/B,SAAA,aAAa,SAAS,MAAM,IAAI;AACrC,SAAK,cAAc,MAAM;AAClB,WAAA;AAAA,EACT;AAAA,EAEA,OAAO,MAAM,SAAS;AACb,WAAA;AAAA,MACL,MAAM,QAAQ,aAAa,MAAM;AAAA,MACjC,MAAM,QAAQ;AAAA,IAAA;AAAA,EAElB;AAAA,EAEA,YAAY,QAAQ,SAAS,MAAM;AAC3B,UAAA,QAAQ,SAAS,IAAI;AAC3B,SAAK,WAAW;AAAA,EAClB;AAAA,EAEA,SAAS;AACP,SAAK,OAAO,QAAQ,KAAK,qBAAqB,KAAK,QAAQ;AAC3D,WAAO,MAAM;EACf;AACF;AAEA,SAAS,WAAW;AACpB,SAAS,UAAU;AACnB,SAAS,YAAY;"}