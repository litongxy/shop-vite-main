{"version":3,"file":"doc-link.es.js","sources":["../../../../src/global-link/formats/doc-link.ts"],"sourcesContent":["import Quill from 'quill'\r\nimport { ON_DOC_LINK_REMOVE } from '../constants'\r\n\r\nconst Embed = Quill.imports['blots/embed']\r\n\r\n// @dynamic\r\nclass DocumentLink extends Embed {\r\n  static blotName: string\r\n  static tagName: string\r\n  static className: string\r\n  docData: any\r\n  scroll: any\r\n\r\n  static create(value) {\r\n    const node = super.create(value)\r\n    node.setAttribute('href', value.link)\r\n    node.setAttribute('title', value.text)\r\n    node.setAttribute('target', '_blank')\r\n    node.setAttribute('icon-link', value.icon)\r\n\r\n    const icon = document.createElement('span')\r\n    icon.classList.add('ql-doc-link-icon')\r\n    icon.style.background = `url(${value.icon}) no-repeat center`\r\n    icon.style.backgroundSize = 'contain'\r\n\r\n    node.insertAdjacentElement('afterbegin', icon)\r\n    const text = document.createTextNode(value.text)\r\n    node.appendChild(text)\r\n    return node\r\n  }\r\n\r\n  static value(domNode) {\r\n    return {\r\n      link: domNode.getAttribute('href'),\r\n      icon: domNode.getAttribute('icon-link'),\r\n      text: domNode.textContent,\r\n    }\r\n  }\r\n\r\n  constructor(scroll, domNode, data) {\r\n    super(scroll, domNode, data)\r\n    this.docData = data\r\n  }\r\n\r\n  remove() {\r\n    this.scroll.emitter.emit(ON_DOC_LINK_REMOVE, this.docData)\r\n    return super.remove()\r\n  }\r\n}\r\n\r\nDocumentLink.blotName = 'doc-link'\r\nDocumentLink.tagName = 'A'\r\nDocumentLink.className = 'ql-doc-link'\r\n\r\nexport default DocumentLink\r\n"],"names":[],"mappings":";;AAGA,MAAM,QAAQ,MAAM,QAAQ,aAAa;AAGzC,MAAM,qBAAqB,MAAM;AAAA,EAO/B,OAAO,OAAO,OAAO;AACb,UAAA,OAAO,MAAM,OAAO,KAAK;AAC1B,SAAA,aAAa,QAAQ,MAAM,IAAI;AAC/B,SAAA,aAAa,SAAS,MAAM,IAAI;AAChC,SAAA,aAAa,UAAU,QAAQ;AAC/B,SAAA,aAAa,aAAa,MAAM,IAAI;AAEnC,UAAA,OAAO,SAAS,cAAc,MAAM;AACrC,SAAA,UAAU,IAAI,kBAAkB;AACrC,SAAK,MAAM,aAAa,OAAO,MAAM,IAAI;AACzC,SAAK,MAAM,iBAAiB;AAEvB,SAAA,sBAAsB,cAAc,IAAI;AAC7C,UAAM,OAAO,SAAS,eAAe,MAAM,IAAI;AAC/C,SAAK,YAAY,IAAI;AACd,WAAA;AAAA,EACT;AAAA,EAEA,OAAO,MAAM,SAAS;AACb,WAAA;AAAA,MACL,MAAM,QAAQ,aAAa,MAAM;AAAA,MACjC,MAAM,QAAQ,aAAa,WAAW;AAAA,MACtC,MAAM,QAAQ;AAAA,IAAA;AAAA,EAElB;AAAA,EAEA,YAAY,QAAQ,SAAS,MAAM;AAC3B,UAAA,QAAQ,SAAS,IAAI;AAC3B,SAAK,UAAU;AAAA,EACjB;AAAA,EAEA,SAAS;AACP,SAAK,OAAO,QAAQ,KAAK,oBAAoB,KAAK,OAAO;AACzD,WAAO,MAAM;EACf;AACF;AAEA,aAAa,WAAW;AACxB,aAAa,UAAU;AACvB,aAAa,YAAY;"}