{"version":3,"file":"createTable.es.js","sources":["../../../../src/global-link/utils/createTable.ts"],"sourcesContent":["const tableConfig = [\r\n  { title: 'Number', field: 'id', width: '100' },\r\n  { title: 'Title', field: 'subject', width: '200' },\r\n  { title: 'Priority', field: 'priority', width: '100' },\r\n  { title: 'Iteration', field: 'iteration', width: '100' },\r\n  { title: 'Status', field: 'status', width: '100' },\r\n  { title: 'Conductor', field: 'assigned_to', width: '100' },\r\n]\r\n\r\nexport function createTable(data: any[]) {\r\n  const table = document.createElement<'table'>('table')\r\n  createColGroup(table)\r\n  createTableHead(table)\r\n  createTableBody(table, data)\r\n  return table\r\n}\r\n\r\nfunction createColGroup(table: HTMLTableElement) {\r\n  const colGroup = document.createElement<'colgroup'>('colgroup')\r\n  tableConfig.forEach(({ width }) => {\r\n    const col = document.createElement<'col'>('col')\r\n    col.setAttribute('width', width)\r\n    colGroup.appendChild(col)\r\n  })\r\n  table.insertAdjacentElement('afterbegin', colGroup)\r\n}\r\n\r\nfunction createTableHead(table: HTMLTableElement) {\r\n  const tHead = table.createTHead()\r\n  const tRow = tHead.insertRow()\r\n  tableConfig.forEach(({ title }) => {\r\n    const tCell = tRow.insertCell()\r\n    tCell.textContent = title\r\n  })\r\n  return tHead\r\n}\r\n\r\nfunction createTableBody(table: HTMLTableElement, data: any[]) {\r\n  const tBody = table.createTBody();\r\n\r\n  [].forEach.call(data, (d) => {\r\n    const tRow = tBody.insertRow()\r\n    // @ts-ignore\r\n    tRow.setAttribute('href', d.url)\r\n    tableConfig.forEach(({ field }) => {\r\n      const tCell = tRow.insertCell()\r\n      tCell.classList.add(`work-item-${field}`)\r\n      // @ts-ignore\r\n      tCell.textContent = d[field]\r\n    })\r\n  })\r\n\r\n  return tBody\r\n}\r\n"],"names":[],"mappings":"AAAA,MAAM,cAAc;AAAA,EAClB,EAAE,OAAO,UAAU,OAAO,MAAM,OAAO,MAAM;AAAA,EAC7C,EAAE,OAAO,SAAS,OAAO,WAAW,OAAO,MAAM;AAAA,EACjD,EAAE,OAAO,YAAY,OAAO,YAAY,OAAO,MAAM;AAAA,EACrD,EAAE,OAAO,aAAa,OAAO,aAAa,OAAO,MAAM;AAAA,EACvD,EAAE,OAAO,UAAU,OAAO,UAAU,OAAO,MAAM;AAAA,EACjD,EAAE,OAAO,aAAa,OAAO,eAAe,OAAO,MAAM;AAC3D;AAEO,SAAS,YAAY,MAAa;AACjC,QAAA,QAAQ,SAAS,cAAuB,OAAO;AACrD,iBAAe,KAAK;AACpB,kBAAgB,KAAK;AACrB,kBAAgB,OAAO,IAAI;AACpB,SAAA;AACT;AAEA,SAAS,eAAe,OAAyB;AACzC,QAAA,WAAW,SAAS,cAA0B,UAAU;AAC9D,cAAY,QAAQ,CAAC,EAAE,YAAY;AAC3B,UAAA,MAAM,SAAS,cAAqB,KAAK;AAC3C,QAAA,aAAa,SAAS,KAAK;AAC/B,aAAS,YAAY,GAAG;AAAA,EAAA,CACzB;AACK,QAAA,sBAAsB,cAAc,QAAQ;AACpD;AAEA,SAAS,gBAAgB,OAAyB;AAC1C,QAAA,QAAQ,MAAM;AACd,QAAA,OAAO,MAAM;AACnB,cAAY,QAAQ,CAAC,EAAE,YAAY;AAC3B,UAAA,QAAQ,KAAK;AACnB,UAAM,cAAc;AAAA,EAAA,CACrB;AACM,SAAA;AACT;AAEA,SAAS,gBAAgB,OAAyB,MAAa;AACvD,QAAA,QAAQ,MAAM;AAEpB,GAAA,EAAG,QAAQ,KAAK,MAAM,CAAC,MAAM;AACrB,UAAA,OAAO,MAAM;AAEd,SAAA,aAAa,QAAQ,EAAE,GAAG;AAC/B,gBAAY,QAAQ,CAAC,EAAE,YAAY;AAC3B,YAAA,QAAQ,KAAK;AACnB,YAAM,UAAU,IAAI,aAAa,KAAK,EAAE;AAElC,YAAA,cAAc,EAAE,KAAK;AAAA,IAAA,CAC5B;AAAA,EAAA,CACF;AAEM,SAAA;AACT;"}