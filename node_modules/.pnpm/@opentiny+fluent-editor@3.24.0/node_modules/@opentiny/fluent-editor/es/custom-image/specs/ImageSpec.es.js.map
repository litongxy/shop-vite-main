{"version":3,"file":"ImageSpec.es.js","sources":["../../../../src/custom-image/specs/ImageSpec.ts"],"sourcesContent":["import BlotSpec from './BlotSpec'\r\n\r\nexport default class ImageSpec extends BlotSpec {\r\n  img\r\n\r\n  constructor(formatter) {\r\n    super(formatter)\r\n    this.img = null\r\n  }\r\n\r\n  init() {\r\n    this.formatter.quill.root.addEventListener('click', this.onClick)\r\n  }\r\n\r\n  getTargetElement() {\r\n    return this.img\r\n  }\r\n\r\n  onHide() {\r\n    this.img = null\r\n  }\r\n\r\n  onClick = (event: MouseEvent) => {\r\n    const el = event.target\r\n    if (!(el instanceof HTMLElement) || el.tagName !== 'IMG') {\r\n      return\r\n    }\r\n    event.stopPropagation()\r\n\r\n    this.img = el\r\n    this.formatter.show(this)\r\n  }\r\n}\r\n"],"names":[],"mappings":";AAEA,MAAqB,kBAAkB,SAAS;AAAA,EAG9C,YAAY,WAAW;AACrB,UAAM,SAAS;AAgBjB,SAAA,UAAU,CAAC,UAAsB;AAC/B,YAAM,KAAK,MAAM;AACjB,UAAI,EAAE,cAAc,gBAAgB,GAAG,YAAY,OAAO;AACxD;AAAA,MACF;AACA,YAAM,gBAAgB;AAEtB,WAAK,MAAM;AACN,WAAA,UAAU,KAAK,IAAI;AAAA,IAAA;AAvBxB,SAAK,MAAM;AAAA,EACb;AAAA,EAEA,OAAO;AACL,SAAK,UAAU,MAAM,KAAK,iBAAiB,SAAS,KAAK,OAAO;AAAA,EAClE;AAAA,EAEA,mBAAmB;AACjB,WAAO,KAAK;AAAA,EACd;AAAA,EAEA,SAAS;AACP,SAAK,MAAM;AAAA,EACb;AAYF;"}