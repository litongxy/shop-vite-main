{"version":3,"file":"DeleteAction.es.js","sources":["../../../../src/custom-image/actions/DeleteAction.ts"],"sourcesContent":["import Quill from 'quill'\r\nimport Action from './Action'\r\n\r\nexport default class DeleteAction extends Action {\r\n  onCreate() {\r\n    document.addEventListener('keyup', this.onKeyUp, true)\r\n    this.formatter.quill.root.addEventListener('input', this.onKeyUp, true)\r\n  }\r\n\r\n  onDestroy() {\r\n    document.removeEventListener('keyup', this.onKeyUp)\r\n    this.formatter.quill.root.removeEventListener('input', this.onKeyUp)\r\n  }\r\n\r\n  onKeyUp = (event: any) => {\r\n    if (!this.formatter.currentSpec) {\r\n      return\r\n    }\r\n\r\n    // delete or backspace\r\n    if (event.keyCode === 46 || event.keyCode === 8) {\r\n      const blot = Quill.find(this.formatter.currentSpec.getTargetElement())\r\n      if (blot) {\r\n        blot.deleteAt(0)\r\n      }\r\n      this.formatter.hide()\r\n    }\r\n  }\r\n}\r\n"],"names":[],"mappings":";;AAGA,MAAqB,qBAAqB,OAAO;AAAA,EAAjD,cAAA;AAAA,UAAA,GAAA,SAAA;AAWE,SAAA,UAAU,CAAC,UAAe;AACpB,UAAA,CAAC,KAAK,UAAU,aAAa;AAC/B;AAAA,MACF;AAGA,UAAI,MAAM,YAAY,MAAM,MAAM,YAAY,GAAG;AAC/C,cAAM,OAAO,MAAM,KAAK,KAAK,UAAU,YAAY,kBAAkB;AACrE,YAAI,MAAM;AACR,eAAK,SAAS,CAAC;AAAA,QACjB;AACA,aAAK,UAAU;MACjB;AAAA,IAAA;AAAA,EACF;AAAA,EAvBA,WAAW;AACT,aAAS,iBAAiB,SAAS,KAAK,SAAS,IAAI;AACrD,SAAK,UAAU,MAAM,KAAK,iBAAiB,SAAS,KAAK,SAAS,IAAI;AAAA,EACxE;AAAA,EAEA,YAAY;AACD,aAAA,oBAAoB,SAAS,KAAK,OAAO;AAClD,SAAK,UAAU,MAAM,KAAK,oBAAoB,SAAS,KAAK,OAAO;AAAA,EACrE;AAgBF;"}